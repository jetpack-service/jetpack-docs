# JetPack 代币如何运作

JetPack 代币系统包括**基于活动的代币发行和分配**、**服务级别系统**、**用户奖励和代币使用方法**以及**购买和再分配代币的机制**。这种结构为用户和服务提供商提供了一个**公平且高效的奖励系统**。

## 代币分配（投放）机制

### 总代币供应量和分配周期

- **总供应量**：JetPack 将发行总计**10 亿 Jet**代币。
- **分配周期**：代币将在**38 年**内分配，总共进行**2,776 次分配**，与**Cardano Epoch**的间隔相同（1 epoch = 5 天）。

### 每个 Epoch 的代币分配量

#### 基于对数函数计算分配量

每个 epoch 分配的代币数量设计为随时间递减。使用**对数函数**来计算每个 epoch 的分配量。**1 Jet 等于 1,000,000 Pack**，因此分配量计算到**小数点后六位**并相应支付。

1. **对数函数 $ f(t) $ 的定义**：

   $$
   f(t) = \dfrac{1}{\ln(t + 1)}
   $$

   其中：

    - $ t $ 是 epoch 编号，$ t = 1, 2, 3, \dotsc, 2776 $。
    - $ \ln $ 是自然对数函数。

2. **计算整个分配周期内函数 $ f(t) $ 的总和**：

   整个分配周期内函数值的总和 $ S $ 为：

   $$
   S = \sum_{t=1}^{2776} f(t) = \sum_{t=1}^{2776} \dfrac{1}{\ln(t + 1)}
   $$

3. **计算缩放常数 $ A $**：

   **10 亿 Jet**的总代币供应量除以总和 $ S $ 以调整每个 epoch 的分配量：

   $$
   A = \dfrac{1,000,000,000}{S} = 2,412,005.7263929145
   $$

4. **计算每个 Epoch 的代币分配量**：

   每个 epoch 的分配量为：

   $$
   \text{Distribution Amount}_t = A \times f(t) = A \times \dfrac{1}{\ln(t + 1)}
   $$

5. **分配量示例**：

   计算初始 epoch 的分配量：

    - **Epoch 1**：

      $$
      \text{Distribution Amount}_1 = 3,479,788.70 = A \times \dfrac{1}{\ln(1 + 1)} = A \times \dfrac{1}{\ln(2)}
      $$

    - **Epoch 2**：

      $$
      \text{Distribution Amount}_2 = 2,195,502.227 = A \times \dfrac{1}{\ln(2 + 1)} = A \times \dfrac{1}{\ln(3)}
      $$

    - **Epoch 3**：

      $$
      \text{Distribution Amount}_3 = 1,739,894.35 = A \times \dfrac{1}{\ln(3 + 1)} = A \times \dfrac{1}{\ln(4)}
      $$

   每个 epoch 的分配量由与 epoch 编号对应的对数函数值决定。

**分配特征**

- 由于 $ \ln(t + 1) $ 随 $ t $ 增加而增加，分母变大，导致整体分配量逐渐减少。
- 每个 epoch 的分配量随时间减少，趋近于零。
- 这种设计激励早期参与者并增加代币的稀缺性。

### 整体分配计划

以下是每个 epoch 的分配量和日期的部分表格总结。
有关所有 epoch 的详细信息，请参阅单独的[文档](/attach/token_allocation_per_epoch.csv)和[代码](/attach/token_allocation_per_epoch.py)。

| Epoch 编号 | 日期           | 分配量 (Jet)            |
|------------|----------------|-------------------------|
| 1          | 2025-01-01     | 3,479,788.70            |
| 2          | 2025-01-06     | 2,195,502.227           |
| 3          | 2025-01-11     | 1,739,894.35            |
| ...        | ...            | ...                     |
| 2774       | 2062-12-18     | 304,223.285             |
| 2775       | 2062-12-23     | 304,209.4607            |
| 2776       | 2062-12-28     | 304,195.6425            |

### 每个服务的代币分配标准

#### 计算服务之间的比例

每个服务的分配比例根据其绩效得分 $ P_n $ 相对于总绩效得分 $ P $ 计算：

$$
\text{Ratio for Service } n = \frac{P_n}{P}
$$

其中：

- $ P_n $：服务 $ n $ 的绩效得分。
- $ P $：所有服务的绩效得分总和。

#### 计算每个服务的分配量

服务 $ n $ 在每个 epoch 中接收的代币数量 $ S_n $ 为：

$$
S_n = \min\left(f_{\text{total}}(t) \times \left( \frac{P_n}{P} \right), \text{Maximum Token Distribution for Service } n\right)
$$

- $ f_{\text{total}}(t) $：调整后的 epoch 总分配量。
- $ \text{Maximum Token Distribution for Service } n $：基于服务级别的最大代币分配量（见下文的基于级别的最大代币分配）。

#### 未分配代币的处理

##### 未分配代币的结转

- 每个 epoch 的未分配代币**添加**到下一个 epoch 的总分配量中。
- 这确保即使初始服务参与度较低，也能有效分配代币。

##### 计算每个 Epoch 的调整后总分配量

下一个 epoch 的总分配量为：

$$
f_{\text{total}}(t+1) = f(t+1) + \text{Undistributed Tokens from Previous Epoch}
$$

- $ f_{\text{total}}(t+1) $：epoch $ t+1 $ 的调整后总分配量。
- $ f(t+1) $：基于基本分配函数的分配量。
- **结转的未分配代币**：epoch $ t $ 中未分配的代币数量。

#### 计算每个服务的绩效得分 ($ P_n $)

每个服务的绩效得分根据以下指标计算。每个指标的权重可以通过治理进行调整。

1. **JetPack 代币消耗 ($ M_{1n} $)**
    - **权重**：$ w_1 = 50\% $
    - **描述**：用户在服务中消耗的 JetPack 代币总量。

2. **Degen Bunny 投票数 ($ M_{2n} $)**
    - **权重**：$ w_2 = 30\% $
    - **描述**：OG Degen Bunnies 收到的投票数。

3. **活跃用户数 ($ M_{3n} $)**
    - **权重**：$ w_3 = 20\% $
    - **描述**：在 epoch 期间访问并活跃于服务的唯一用户数。

每个服务的绩效得分 $ P_n $ 计算为：

$$
P_n = w_1 \times \left( \frac{M_{1n}}{M_{1\text{total}}} \right) + w_2 \times \left( \frac{M_{2n}}{M_{2\text{total}}} \right) + w_3 \times \left( \frac{M_{3n}}{M_{3\text{total}}} \right)
$$

其中：

- $ M_{1n} $：服务 $ n $ 的 JetPack 代币消耗。
- $ M_{1\text{total}} $：所有服务的 JetPack 代币消耗总量。
- $ M_{2n} $：服务 $ n $ 的 Degen Bunny 投票数。
- $ M_{2\text{total}} $：所有服务的 Degen Bunny 投票总数。
- $ M_{3n} $：服务 $ n $ 的活跃用户数。
- $ M_{3\text{total}} $：所有服务的活跃用户总数。

**示例**：

- **服务 A**：
    - $ M_{1A} = 500 $
    - $ M_{2A} = 150 $
    - $ M_{3A} = 200 $
- **服务 B**：
    - $ M_{1B} = 300 $
    - $ M_{2B} = 200 $
    - $ M_{3B} = 100 $
- **服务 C**：
    - $ M_{1C} = 200 $
    - $ M_{2C} = 150 $
    - $ M_{3C} = 700 $

**总计**：

- $ M_{1\text{total}} = 500 + 300 + 200 = 1000 $
- $ M_{2\text{total}} = 150 + 200 + 150 = 500 $
- $ M_{3\text{total}} = 200 + 100 + 700 = 1000 $

**权重**：

- $ w_1 = 0.5 $
- $ w_2 = 0.3 $
- $ w_3 = 0.2 $

**计算服务 A 的绩效得分**：

$$
\begin{align*}
P_A &= 0.5 \times \left( \frac{500}{1000} \right) + 0.3 \times \left( \frac{150}{500} \right) + 0.2 \times \left( \frac{200}{1000} \right) \\
&= 0.5 \times 0.5 + 0.3 \times 0.3 + 0.2 \times 0.2 \\
&= 0.25 + 0.09 + 0.04 \\
&= 0.38
\end{align*}
$$

**计算服务 B 的绩效得分**：

$$
\begin{align*}
P_B &= 0.5 \times \left( \frac{300}{1000} \right) + 0.3 \times \left( \frac{200}{500} \right) + 0.2 \times \left( \frac{100}{1000} \right) \\
&= 0.5 \times 0.3 + 0.3 \times 0.4 + 0.2 \times 0.1 \\
&= 0.15 + 0.12 + 0.02 \\
&= 0.29
\end{align*}
$$

**计算服务 C 的绩效得分**：

$$
\begin{align*}
P_C &= 0.5 \times \left( \frac{200}{1000} \right) + 0.3 \times \left( \frac{150}{500} \right) + 0.2 \times \left( \frac{700}{1000} \right) \\
&= 0.5 \times 0.2 + 0.3 \times 0.3 + 0.2 \times 0.7 \\
&= 0.10 + 0.09 + 0.14 \\
&= 0.33
\end{align*}
$$

因此，绩效得分为：

- **服务 A**：$ P_A = 0.38 $
- **服务 B**：$ P_B = 0.29 $
- **服务 C**：$ P_C = 0.33 $

#### 级别确定标准和最大代币分配量

根据绩效得分 $ P_n $，每个服务被分类为**1 到 9 级**。此分类使用所有服务绩效得分的**累积顶级百分比**。

##### 每个级别的累积顶级百分比和最大代币分配量

| **级别** | **累积顶级百分比** | **最大代币分配 (Jet)** |
|----------|--------------------|------------------------|
| 级别 1   | 顶级 4%            | 30,000                 |
| 级别 2   | 顶级 11%           | 25,000                 |
| 级别 3   | 顶级 23%           | 20,000                 |
| 级别 4   | 顶级 40%           | 15,000                 |
| 级别 5   | 顶级 60%           | 10,000                 |
| 级别 6   | 顶级 77%           | 7,000                  |
| 级别 7   | 顶级 89%           | 5,000                  |
| 级别 8   | 顶级 96%           | 3,000                  |
| 级别 9   | 顶级 100%          | 1,000                  |

##### 级别确定方法

1. **计算绩效得分**

   使用先前定义的方法计算每个服务的绩效得分 $ P_n $。

2. **确定服务排名**

   根据绩效得分对所有服务进行**降序排列**。

3. **计算累积顶级百分比**

   对于每个服务，计算累积顶级百分比：

   $$
   \text{Cumulative Top Percentile (\%)} = \left(1 - \frac{\text{Rank} - 1}{N} \right) \times 100\%
   $$

   其中：

    - $ \text{Rank} $：服务的排名（从 1 开始）。
    - $ N $：服务总数。

4. **分配级别**

   根据累积顶级百分比分配级别：

    - **级别 1**：累积顶级百分比 > 96%
    - **级别 2**：89% < 累积顶级百分比 ≤ 96%
    - **级别 3**：77% < 累积顶级百分比 ≤ 89%
    - **级别 4**：60% < 累积顶级百分比 ≤ 77%
    - **级别 5**：40% < 累积顶级百分比 ≤ 60%
    - **级别 6**：23% < 累积顶级百分比 ≤ 40%
    - **级别 7**：11% < 累积顶级百分比 ≤ 23%
    - **级别 8**：4% < 累积顶级百分比 ≤ 11%
    - **级别 9**：累积顶级百分比 ≤ 4%

**示例**：

总共有**3**个服务：

1. **计算排名和累积顶级百分比**

    - **服务 A**：

        - 绩效得分：$ P_A = 0.38 $
        - 排名：1
        - 累积顶级百分比：

          $$
          \text{Cumulative Top Percentile} = \left(1 - \frac{1 - 1}{3} \right) \times 100\% = 100\%
          $$

    - **服务 C**：

        - 绩效得分：$ P_C = 0.33 $
        - 排名：2
        - 累积顶级百分比：

          $$
          \text{Cumulative Top Percentile} = \left(1 - \frac{2 - 1}{3} \right) \times 100\% = 66.67\%
          $$

    - **服务 B**：

        - 绩效得分：$ P_B = 0.29 $
        - 排名：3
        - 累积顶级百分比：

          $$
          \text{Cumulative Top Percentile} = \left(1 - \frac{3 - 1}{3} \right) \times 100\% = 33.33\%
          $$

2. **分配级别**

    - **服务 A**：

        - 累积顶级百分比：100%
        - **级别**：**级别 1**（累积顶级百分比 > 96%）
        - **最大代币分配**：30,000 Jet

    - **服务 C**：

        - 累积顶级百分比：66.67%
        - **级别**：**级别 4**（60% < 累积顶级百分比 ≤ 77%）
        - **最大代币分配**：15,000 Jet

    - **服务 B**：

        - 累积顶级百分比：33.33%
        - **级别**：**级别 6**（23% < 累积顶级百分比 ≤ 40%）
        - **最大代币分配**：7,000 Jet

**注意**：

- **分数相同**：具有相同绩效得分的服务获得相同的排名。在计算累积顶级百分比时，使用平均排名。
- **最大代币分配**指的是服务根据其级别可以接收的最大代币数量。

### 示例场景

#### Epoch 1 ($ t = 1 $)

- **基本分配量**：$ f(1) = 3,479,788.70 \text{ Jet} $
- **调整后总分配量**：$ f_{\text{total}}(1) = 3,479,788.70 \text{ Jet} $

**计算每个服务的分配量**

根据绩效得分和级别：

- **总绩效得分 $ P $**：$ P = P_A + P_B + P_C = 0.38 + 0.29 + 0.33 = 1.00 $

1. **服务 A**：

    - 比例：$ \frac{P_A}{P} = \frac{0.38}{1.00} = 0.38 $
    - 分配量：

      $$
      S_A = \min\left( 3,479,788.70 \times 0.38, 30,000 \right) = \min(1,322,319.71, 30,000) = 30,000 \text{ Jet}
      $$

2. **服务 C**：

    - 比例：$ \frac{P_C}{P} = \frac{0.33}{1.00} = 0.33 $
    - 分配量：

      $$
      S_C = \min\left( 3,479,788.70 \times 0.33, 15,000 \right) = \min(1,148,330.27, 15,000) = 15,000 \text{ Jet}
      $$

3. **服务 B**：

    - 比例：$ \frac{P_B}{P} = \frac{0.29}{1.00} = 0.29 $
    - 分配量：

      $$
      S_B = \min\left( 3,479,788.70 \times 0.29, 7,000 \right) = \min(1,009,138.72, 7,000) = 7,000 \text{ Jet}
      $$

**分配结果**

- **总分配代币**：$ 30,000 + 15,000 + 7,000 = 52,000 \text{ Jet} $
- **未分配代币**：$ 3,479,788.70 - 52,000 = 3,427,788.70 \text{ Jet} $

#### Epoch 2 ($ t = 2 $)

- **基本分配量**：

  $$
  f(2) = 2,195,502.227 \text{ Jet}
  $$

- **结转代币**：$ 3,427,788.70 \text{ Jet} $
- **调整后总分配量**：

  $$
  f_{\text{total}}(2) = 2,195,502.227 + 3,427,788.70 = 5,623,290.927 \text{ Jet}
  $$

**更新的绩效得分和级别**

假设绩效得分发生变化：

- **服务 A**：

    - 绩效得分：$ P_A = 0.40 $
    - 排名：1
    - 累积顶级百分比：100%
    - **级别**：级别 1
    - **最大代币分配**：30,000 Jet

- **服务 C**：

    - 绩效得分：$ P_C = 0.35 $
    - 排名：2
    - 累积顶级百分比：66.67%
    - **级别**：级别 4
    - **最大代币分配**：15,000 Jet

- **服务 B**：

    - 绩效得分：$ P_B = 0.25 $
    - 排名：3
    - 累积顶级百分比：33.33%
    - **级别**：级别 6
    - **最大代币分配**：7,000 Jet

**总绩效得分 $ P $**：$ P = 0.40 + 0.35 + 0.25 = 1.00 $

**计算每个服务的分配量**

1. **服务 A**：

    - 比例：$ \frac{P_A}{P} = 0.40 $
    - 分配量：

      $$
      S_A = \min\left( 5,623,290.927 \times 0.40, 30,000 \right) = \min(2,249,316.37, 30,000) = 30,000 \text{ Jet}
      $$

2. **服务 C**：

    - 比例：$ \frac{P_C}{P} = 0.35 $
    - 分配量：

      $$
      S_C = \min\left( 5,623,290.927 \times 0.35, 15,000 \right) = \min(1,968,151.83, 15,000) = 15,000 \text{ Jet}
      $$

3. **服务 B**：

    - 比例：$ \frac{P_B}{P} = 0.25 $
    - 分配量：

      $$
      S_B = \min\left( 5,623,290.927 \times 0.25, 7,000 \right) = \min(1,405,822.73, 7,000) = 7,000 \text{ Jet}
      $$

**分配结果**

- **总分配代币**：$ 30,000 + 15,000 + 7,000 = 52,000 \text{ Jet} $
- **未分配代币**：$ 5,623,290.927 - 52,000 = 5,571,290.927 \text{ Jet} $

### 累积未分配代币的影响

- **增加的服务参与和改进的绩效**将逐渐减少未分配代币的数量。
- **初始服务可以利用最大分配量**来促进增长。
- 结转代币有助于**保持价值稳定**和调节流通。

## 用户奖励和代币使用

### **用户奖励机制**

- **基于活动的奖励**：用户在服务中执行**预先约定的活动**（例如内容创作、游戏）时会获得 JetPack 代币。
- **代币奖励标准**：每项活动的代币奖励数量通过服务和 JetPack 生态系统运营商之间的**协商确定**。

### **代币使用方法**

1. **在服务内**：
    - **访问高级功能**：使用代币访问服务内的付费功能或内容。
    - **购买商品**：使用代币购买数字商品或服务内物品。

2. **使用 JetPack 钱包服务交换**：
    - **代币销售**：用户可以将代币兑换为**ADA**（**Cardano**的货币）。
    - **钱包管理**：JetPack 钱包允许安全管理代币并转移到其他服务。

### **代币价值增值的预期收益**

- **代币流动性**：在交易所交易代币增加其**流动性**。
- **经济收益**：如果代币价值升值，用户可以通过出售代币获得**额外的经济收益**。

## 代币购买和再分配

### **服务的额外代币购买**

- **当分配的代币耗尽时**：如果服务用完了其分配的所有代币，可以从**JetPack 钱包服务交换**中购买额外的代币。
- **购买货币**：使用**ADA**购买代币。
- **购买代币的使用**：购买的代币可以用于**奖励用户**或**在服务内使用**。

### **可转售与不可转售代币**

- **分配的代币**（**不可转售**）：分配给服务的代币**不能转售**，仅用于**用户奖励**。
- **购买的代币和从用户处获得的代币**（**可转售**）：用 ADA 购买的代币和从用户处获得的代币**可以转售**，有助于**流动性获取**。

### **代币再分配和生态系统激活**

1. **代币流通结构**：
    - 服务用代币奖励用户；用户在服务中使用代币或在交易所出售代币。
    - 服务从用户处获取代币或购买代币以维持**可持续的奖励系统**。

2. **生态系统激活效果**：
    - 代币流通促进**用户参与**和**服务激活**。
    - 这有助于**代币价值稳定**和生态系统的**可持续增长**。