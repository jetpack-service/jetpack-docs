# JetPack 토큰의 작동 방식

JetPack 토큰 시스템은 **사용자 활동 기반의 토큰 발행 및 분배**, **서비스 등급 시스템**, **사용자 보상 및 토큰 활용 방법**, 그리고 **토큰의 구매 및 재분배 메커니즘**으로 구성되어 있습니다. 이를 통해 사용자와 서비스 제공자 모두에게 **공정하고 효율적인 보상 구조**를 제공합니다.

## 토큰 배분(Drop) 메커니즘

### 전체 토큰 공급량 및 배분 기간

- **총 공급량**: JetPack 토큰은 총 **10억 Jet**을 발행합니다.
- **배분 기간**: 토큰은 **38년**에 걸쳐 분배되며, **카르다노 에포크**(5일 = 1 epoch)와 동일한 주기로 **총 2,776회** 분배됩니다.

### 에포크별 토큰 배분량

#### 로그 함수 기반의 배분량 계산

에포크별로 분배되는 토큰의 양은 시간에 따라 감소하도록 설계되었습니다. 이를 위해 **로그 함수**를 사용하여 각 에포크에서의 배분량을 계산합니다. **1 Jet는 1,000,000 Pack**을 의미하므로, 배분량은 **소수점 여섯째 자리**까지 계산되며, 지급됩니다.

1. **로그 함수 $ f(t) $ 정의**:

   $$
   f(t) = \dfrac{1}{\ln(t + 1)}
   $$

   여기서:

   - $ t $는 에포크의 순번으로, $ t = 1, 2, 3, \dotsc, 2776 $입니다.
   - $ \ln $은 자연 로그 함수입니다.

2. **각 에포크 별 로그 함수 $ f(t) $의 값의 합 계산**:

   전체 배분 기간 동안의 함수 값의 합 $ S $는 다음과 같습니다:

   $$
   S = \sum_{t=1}^{2776} f(t) = \sum_{t=1}^{2776} \dfrac{1}{\ln(t + 1)}
   $$

3. **스케일링 상수 $ A $ 계산**:

   총 공급량인 **10억 Jet**을 전체 배분 기간 동안의 함수 값의 합 $ S $로 나누어 각 에포크의 배분량을 조정합니다:

   $$
   A = \dfrac{1,000,000,000}{S} = 2,412,005.7263929145
   $$

4. **에포크별 토큰 배분량 계산**:

   각 에포크에서의 배분량은 다음과 같습니다:

   $$
   \text{배분량}_t = A \times f(t) = A \times \dfrac{1}{\ln(t + 1)}
   $$

5. **배분량의 예시**:

   초기 몇 개의 에포크에 대한 배분량을 계산해 보면:

   - **에포크 1**:

     $$
     \text{배분량}_1 = 3,479,788.70 = A \times \dfrac{1}{\ln(1 + 1)} = A \times \dfrac{1}{\ln(2)}
     $$

   - **에포크 2**:

     $$
     \text{배분량}_2 = 2,195,502.227 = A \times \dfrac{1}{\ln(2 + 1)} = A \times \dfrac{1}{\ln(3)}
     $$

   - **에포크 3**:

     $$
     \text{배분량}_3 = 1,739,894.35 = A \times \dfrac{1}{\ln(3 + 1)} = A \times \dfrac{1}{\ln(4)}
     $$

   각 에포크의 배분량은 해당 에포크 번호에 따라 로그 함수 값에 의해 결정됩니다.

**배분 특성**

- 로그 함수의 특성상, $ t $가 증가할수록 $ \ln(t + 1) $ 값도 증가하므로, 분모가 커져 전체 배분량은 점차 감소합니다.
- 에포크별 배분량은 시간이 지남에 따라 감소하여 0에 가까워집니다.
- 초기 참여자에게 인센티브를 제공하고, 토큰의 희소성을 높이는 효과가 있습니다.

### 전체 배분 스케줄

아래는 에포크별 배분량과 날짜를 요약한 표의 일부입니다.
전체 에포크에 대한 자세한 내용은 별도의 [문서](/attach/token_allocation_per_epoch.csv)와 [코드](/attach/token_allocation_per_epoch.py)를 참고하세요.

| 에포크 번호 | 날짜           | 배분량 (Jet)      |
|-------------|----------------|------------------|
| 1           | 2025-01-01     | 3,479,788.70     |
| 2           | 2025-01-06     | 2,195,502.227    |
| 3           | 2025-01-11     | 1,739,894.35     |
| ...         | ...            | ...              |
| 2774        | 2062-12-18     | 304,223.285      |
| 2775        | 2062-12-23     | 304,209.4607     |
| 2776        | 2062-12-28     | 304,195.6425     |

### 서비스별 토큰 배분 기준

#### 서비스 간 비율 계산

각 서비스의 성능 점수 $P_n$을 기준으로 전체 성능 점수 합 $P$에 대한 비율을 계산합니다.

$$
\text{서비스 } n \text{의 비율} = \frac{P_n}{P}
$$

여기서:

- $P_n$: 서비스 $n$의 성능 점수
- $P$: 모든 서비스의 성능 점수 합

#### 서비스별 배분량 계산

각 에포크에서 서비스 $n$이 받을 토큰의 양 $S_n$은 다음과 같습니다.

$$
S_n = \min\left(f_{\text{total}}(t) \times \left( \frac{P_n}{P} \right ), \text{서비스 } n \text{의 최대 배분 토큰량 (Max)}\right)
$$

- $f_{\text{total}}(t)$: 해당 에포크의 조정된 총 배분량
- $\text{서비스 } n \text{의 최대 배분 토큰량 (Max)}$: 서비스의 등급에 따라 정해진 최대 토큰 배분량 (아래 등급별 최대 배분 토큰량 참조)

#### 미배분된 토큰 처리 방법

##### 미배분된 토큰의 이월

- 각 에포크에서 배분되지 않은 토큰은 **다음 에포크의 총 배분량에 추가**됩니다.
- 이를 통해 초기 서비스 참여가 적은 경우에도 토큰이 효과적으로 분배되도록 보장합니다.

##### 에포크별 조정된 총 배분량 계산

다음 에포크의 총 배분량은 다음과 같이 계산됩니다.

$$
f_{\text{total}}(t+1) = A \times f(t+1) + \text{이전 에포크의 미배분된 토큰}
$$

- $f_{\text{total}}(t+1)$: $t+1$번째 에포크의 조정된 총 배분량
- $A \times f(t+1)$: 기본 배분 함수에 따른 배분량
- **이월된 미배분 토큰**: $t$번째 에포크에서 배분되지 않은 토큰 수

#### 서비스별 성능 점수 ($P_n$) 산정 방법

각 서비스의 성능 점수는 아래의 지표를 기반으로 계산됩니다. 각 지표의 비중은 거버넌스를 통해 조정될 수 있습니다.

1. **JetPack 토큰 소비량 ($M_{1n}$)**
   - **비중**: $w_1 = 50\%$
   - **설명**: 서비스 내에서 사용자가 소비한 JetPack 토큰의 총량.

2. **데젠 버니 투표 수 ($M_{2n}$)**
   - **비중**: $w_2 = 30\%$
   - **설명**: OG 데젠 버니로부터 받은 투표 수.

3. **활성 사용자 수 ($M_{3n}$)**
   - **비중**: $w_3 = 20\%$
   - **설명**: 해당 에포크 동안 서비스에 접속하여 활동한 고유 사용자의 수.

각 서비스의 성능 점수 $P_n$은 다음과 같이 계산됩니다.

$$
P_n = w_1 \times \left( \frac{M_{1n}}{M_{1\text{total}}} \right) + w_2 \times \left( \frac{M_{2n}}{M_{2\text{total}}} \right) + w_3 \times \left( \frac{M_{3n}}{M_{3\text{total}}} \right)
$$

여기서:

- $M_{1n}$: 서비스 $n$의 JetPack 토큰 소비량
- $M_{1\text{total}}$: 모든 서비스의 JetPack 토큰 소비량의 합
- $M_{2n}$: 서비스 $n$의 데젠 버니 투표 수
- $M_{2\text{total}}$: 모든 서비스의 데젠 버니 투표 수의 합
- $M_{3n}$: 서비스 $n$의 활성 사용자 수
- $M_{3\text{total}}$: 모든 서비스의 활성 사용자 수의 합

**예시**:

- **서비스 A**:
   - $M_{1A} = 500$
   - $M_{2A} = 150$
   - $M_{3A} = 200$
- **서비스 B**:
   - $M_{1B} = 300$
   - $M_{2B} = 200$
   - $M_{3B} = 100$
- **서비스 C**:
   - $M_{1C} = 200$
   - $M_{2C} = 150$
   - $M_{3C} = 700$

**총합**:

- $M_{1\text{total}} = 500 + 300 + 200 = 1000$
- $M_{2\text{total}} = 150 + 200 + 150 = 500$
- $M_{3\text{total}} = 200 + 100 + 700 = 1000$

**가중치**:

- $w_1 = 0.5$
- $w_2 = 0.3$
- $w_3 = 0.2$

**서비스 A의 성능 점수 계산**:

$$
\begin{align*}
P_A &= 0.5 \times \left( \frac{500}{1000} \right) + 0.3 \times \left( \frac{150}{500} \right) + 0.2 \times \left( \frac{200}{1000} \right) \\
&= 0.5 \times 0.5 + 0.3 \times 0.3 + 0.2 \times 0.2 \\
&= 0.25 + 0.09 + 0.04 \\
&= 0.38
\end{align*}
$$

**서비스 B의 성능 점수 계산**:

$$
\begin{align*}
P_B &= 0.5 \times \left( \frac{300}{1000} \right) + 0.3 \times \left( \frac{200}{500} \right) + 0.2 \times \left( \frac{100}{1000} \right) \\
&= 0.5 \times 0.3 + 0.3 \times 0.4 + 0.2 \times 0.1 \\
&= 0.15 + 0.12 + 0.02 \\
&= 0.29
\end{align*}
$$

**서비스 C의 성능 점수 계산**:

$$
\begin{align*}
P_C &= 0.5 \times \left( \frac{200}{1000} \right) + 0.3 \times \left( \frac{150}{500} \right) + 0.2 \times \left( \frac{700}{1000} \right) \\
&= 0.5 \times 0.2 + 0.3 \times 0.3 + 0.2 \times 0.7 \\
&= 0.10 + 0.09 + 0.14 \\
&= 0.33
\end{align*}
$$

따라서 각 서비스의 성능 점수는 다음과 같습니다:

- **서비스 A**: $P_A = 0.38$
- **서비스 B**: $P_B = 0.29$
- **서비스 C**: $P_C = 0.33$

#### 등급(레벨) 산정 기준 및 최대 배분 토큰량

성능 점수 $P_n$을 기반으로 각 서비스를 **1등급**부터 **9등급**까지로 분류합니다. 이는 모든 서비스의 성능 점수를 비교하여 **누적 상위 백분위**를 계산하고, 아래의 등급 구분 기준에 따라 등급을 부여합니다.

##### 등급별 누적 상위 백분위 및 최대 배분 토큰량

| **등급** | **누적 상위 백분위** | **최대 배분 토큰량 (Jet)** |
|----------|---------------------|----------------------|
| 1등급    | 상위 4% 이내         | 30,000               |
| 2등급    | 상위 11% 이내        | 25,000               |
| 3등급    | 상위 23% 이내        | 20,000               |
| 4등급    | 상위 40% 이내        | 15,000               |
| 5등급    | 상위 60% 이내        | 10,000               |
| 6등급    | 상위 77% 이내        | 7,000                |
| 7등급    | 상위 89% 이내        | 5,000                |
| 8등급    | 상위 96% 이내        | 3,000                |
| 9등급    | 상위 100% 이내       | 1,000                |

##### 등급 산정 방법

1. **성능 점수 계산**

   앞서 정의한 방법으로 각 서비스의 성능 점수 $P_n$을 계산합니다.

2. **서비스 순위 산정**

   모든 서비스를 성능 점수 $P_n$에 따라 **내림차순**으로 정렬하여 순위를 부여합니다.

3. **누적 상위 백분위 계산**

   각 서비스의 순위를 기반으로 누적 상위 백분위를 계산합니다:

   $$
   \text{누적 상위 백분위 (\%)} = \left(1 - \frac{\text{순위} - 1}{N} \right) \times 100\%
   $$

   여기서:

   - $\text{순위}$: 해당 서비스의 순위 (1부터 시작)
   - $N$: 전체 서비스의 수

4. **등급 부여**

   각 서비스의 누적 상위 백분위에 따라 등급을 부여합니다:

   - **1등급**: 누적 상위 백분위 > 96%
   - **2등급**: 89% < 누적 상위 백분위 ≤ 96%
   - **3등급**: 77% < 누적 상위 백분위 ≤ 89%
   - **4등급**: 60% < 누적 상위 백분위 ≤ 77%
   - **5등급**: 40% < 누적 상위 백분위 ≤ 60%
   - **6등급**: 23% < 누적 상위 백분위 ≤ 40%
   - **7등급**: 11% < 누적 상위 백분위 ≤ 23%
   - **8등급**: 4% < 누적 상위 백분위 ≤ 11%
   - **9등급**: 누적 상위 백분위 ≤ 4%

**예시**:

전체 서비스 수가 **3개**인 경우:

1. **서비스 순위 및 누적 상위 백분위 계산**

   - **서비스 A**:

      - 성능 점수: $P_A = 0.38$
      - 순위: 1위
      - 누적 상위 백분위:

        $$
        \text{누적 상위 백분위} = \left(1 - \frac{1 - 1}{3} \right) \times 100\% = 100\%
        $$

   - **서비스 C**:

      - 성능 점수: $P_C = 0.33$
      - 순위: 2위
      - 누적 상위 백분위:

        $$
        \text{누적 상위 백분위} = \left(1 - \frac{2 - 1}{3} \right) \times 100\% = 66.67\%
        $$

   - **서비스 B**:

      - 성능 점수: $P_B = 0.29$
      - 순위: 3위
      - 누적 상위 백분위:

        $$
        \text{누적 상위 백분위} = \left(1 - \frac{3 - 1}{3} \right) \times 100\% = 33.33\%
        $$

2. **등급 부여**

   - **서비스 A**:

      - 누적 상위 백분위: 100%
      - **등급**: **1등급** (누적 상위 백분위 > 96%)
      - **최대 배분 토큰량**: 30,000 Jet

   - **서비스 C**:

      - 누적 상위 백분위: 66.67%
      - **등급**: **4등급** (60% < 누적 상위 백분위 ≤ 77%)
      - **최대 배분 토큰량**: 15,000 Jet

   - **서비스 B**:

      - 누적 상위 백분위: 33.33%
      - **등급**: **6등급** (23% < 누적 상위 백분위 ≤ 40%)
      - **최대 배분 토큰량**: 7,000 Jet

**참고 사항**:

- **동점 처리**: 동일한 성능 점수를 가진 서비스들의 경우, 동일한 순위를 부여하며, 누적 상위 백분위 계산 시 해당 순위의 평균을 사용합니다.
- **최대 배분 토큰량**은 각 등급에 따라 서비스가 받을 수 있는 최대 토큰 배분량을 의미합니다.

### 예시 시나리오

#### 에포크 1 ($ t = 1 $)

- **기본 배분량**: $ f(1) = 3,479,788.70 \text{ Jet} $
- **조정된 총 배분량**: $ f_{\text{total}}(1) = 3,479,788.70 \text{ Jet} $

**서비스별 배분량 계산**

각 서비스의 성능 점수 및 등급에 따라 배분량을 계산합니다.

- **총 성능 점수 $ P $**: $ P = P_A + P_B + P_C = 0.38 + 0.29 + 0.33 = 1.00 $

1. **서비스 A**:

   - 비율: $ \frac{P_A}{P} = \frac{0.38}{1.00} = 0.38 $
   - 배분량:

     $$
     S_A = \min\left( 3,479,788.70 \times 0.38, 30,000 \right ) = \min(1,322,319.71, 30,000) = 30,000 \text{ Jet}
     $$

2. **서비스 C**:

   - 비율: $ \frac{P_C}{P} = \frac{0.33}{1.00} = 0.33 $
   - 배분량:

     $$
     S_C = \min\left( 3,479,788.70 \times 0.33, 15,000 \right ) = \min(1,148,330.27, 15,000) = 15,000 \text{ Jet}
     $$

3. **서비스 B**:

   - 비율: $ \frac{P_B}{P} = \frac{0.29}{1.00} = 0.29 $
   - 배분량:

     $$
     S_B = \min\left( 3,479,788.70 \times 0.29, 7,000 \right ) = \min(1,009,138.72, 7,000) = 7,000 \text{ Jet}
     $$

**배분 결과**

- **총 배분된 토큰 수**: $ 30,000 + 15,000 + 7,000 = 52,000 \text{ Jet} $
- **미배분된 토큰 수**: $ 3,479,788.70 - 52,000 = 3,427,788.70 \text{ Jet} $

#### 에포크 2 ($ t = 2 $)

- **기본 배분량**:

  $$
  f(2) = 2,195,502.227 \text{ Jet}
  $$

- **이월된 토큰**: $ 3,427,788.70 \text{ Jet} $
- **조정된 총 배분량**:

  $$
  f_{\text{total}}(2) = 2,195,502.227 + 3,427,788.70 = 5,623,290.927 \text{ Jet}
  $$

**서비스 성능 지표 및 등급 변동**

서비스의 성능 점수가 변화했다고 가정하겠습니다.

- **서비스 A**:

   - 성능 점수: $P_A = 0.40$
   - 순위: 1위
   - 누적 상위 백분위: 100%
   - **등급**: 1등급
   - **최대 배분 토큰량**: 30,000 Jet

- **서비스 C**:

   - 성능 점수: $P_C = 0.35$
   - 순위: 2위
   - 누적 상위 백분위: 66.67%
   - **등급**: 4등급
   - **최대 배분 토큰량**: 15,000 Jet

- **서비스 B**:

   - 성능 점수: $P_B = 0.25$
   - 순위: 3위
   - 누적 상위 백분위: 33.33%
   - **등급**: 6등급
   - **최대 배분 토큰량**: 7,000 Jet

**총 성능 점수 $ P $**: $ P = 0.40 + 0.35 + 0.25 = 1.00 $

**서비스별 배분량 계산**

1. **서비스 A**:

   - 비율: $ \frac{P_A}{P} = 0.40 $
   - 배분량:

     $$
     S_A = \min\left( 5,623,290.927 \times 0.40, 30,000 \right ) = \min(2,249,316.37, 30,000) = 30,000 \text{ Jet}
     $$

2. **서비스 C**:

   - 비율: $ \frac{P_C}{P} = 0.35 $
   - 배분량:

     $$
     S_C = \min\left( 5,623,290.927 \times 0.35, 15,000 \right ) = \min(1,968,151.83, 15,000) = 15,000 \text{ Jet}
     $$

3. **서비스 B**:

   - 비율: $ \frac{P_B}{P} = 0.25 $
   - 배분량:

     $$
     S_B = \min\left( 5,623,290.927 \times 0.25, 7,000 \right ) = \min(1,405,822.73, 7,000) = 7,000 \text{ Jet}
     $$

**배분 결과**

- **총 배분된 토큰 수**: $ 30,000 + 15,000 + 7,000 = 52,000 \text{ Jet} $
- **미배분된 토큰 수**: $ 5,623,290.927 - 52,000 = 5,571,290.927 \text{ Jet} $

### 미배분된 토큰의 누적과 영향

- **서비스 참여 증가 및 성능 향상**으로 미배분된 토큰의 양이 점차 감소하게 됩니다.
- **초기 서비스들은 최대한의 배분량을 활용**하여 성장할 수 있습니다.
- 토큰의 이월을 통해 **가치의 안정성**을 유지하고 유통량을 조절합니다.

## 사용자 보상 및 토큰 사용 방법

### **사용자 보상 메커니즘**

- **활동 기반 보상**: 사용자는 서비스에서 **사전에 협의된 활동**(예: 콘텐츠 생성, 게임 플레이 등)을 수행하면 JetPack 토큰을 지급받습니다.
- **토큰 지급 기준**: 각 활동에 대한 보상 토큰의 양은 서비스와 JetPack 생태계 운영자 간의 **협의를 통해 결정**됩니다.

### **토큰의 사용 방법**

1. **서비스 내 활용**:
    - **프리미엄 기능 이용**: 토큰을 사용하여 서비스의 유료 기능이나 콘텐츠를 이용할 수 있습니다.
    - **상품 구매**: 토큰으로 디지털 상품이나 서비스 내 아이템을 구매할 수 있습니다.
2. **JetPack 지갑 서비스 거래소 이용**:
    - **토큰 판매**: 사용자는 보유한 토큰을 **ADA**(**카르다노의 통화**)로 교환할 수 있습니다.
    - **지갑 관리**: JetPack 지갑을 통해 토큰을 안전하게 관리하고, 다른 서비스로 전송할 수 있습니다.

### **토큰 가치 상승 기대 효과**

- **토큰의 유동성**: 거래소에서의 토큰 매매를 통해 토큰의 **유동성**이 높아집니다.
- **경제적 이익**: 토큰의 가치 상승 시, 사용자는 보유한 토큰을 판매하여 **추가적인 경제적 이익**을 얻을 수 있습니다.

## 토큰의 구매 및 재분배

### **서비스의 추가 토큰 구매**

- **배분된 토큰 소진 시**: 서비스가 배분받은 토큰을 모두 사용한 경우, 추가로 토큰이 필요하면 **JetPack 지갑 서비스 거래소**에서 토큰을 구매할 수 있습니다.
- **구매 통화**: 토큰은 **ADA**를 통해 구매할 수 있습니다.
- **구매한 토큰의 활용**: 구매한 토큰은 **사용자들에게 보상으로 지급**하거나 **서비스 내에서 활용**할 수 있습니다.

### **재판매 가능 토큰과 불가능 토큰**

- **배분된 토큰** (**재판매 불가능**): 서비스에 배분된 토큰은 **재판매가 불가능**하며, **사용자 보상**으로만 사용할 수 있습니다.
- **구매한 토큰 및 사용자로부터 획득한 토큰** (**재판매 가능**): ADA로 구매한 토큰과 서비스가 사용자로부터 획득한 토큰은 **재판매가 가능**하여 **유동성 확보**에 기여합니다.

### **토큰의 재분배와 생태계 활성화**

1. **토큰의 순환 구조**:
    - 서비스는 토큰을 사용자에게 보상으로 지급하고, 사용자는 이를 서비스에서 사용하거나 거래소에서 판매합니다.
    - 서비스는 사용자로부터 다시 토큰을 획득하거나 거래소에서 구매하여 **지속적인 보상 체계**를 유지합니다.
2. **생태계 활성화 효과**:
    - 토큰의 순환을 통해 **사용자 참여**와 **서비스 활성화**가 촉진됩니다.
    - 이는 JetPack 토큰의 **가치 안정화**와 **생태계의 지속 가능한 성장**에 기여합니다.
